# Vim操作技巧

## vim批量替换

```bash
# 在命令模式下

# 将文档中所有abc替换为tttt
:%s/abc/tttt/g

# 如果有转义字符，需要在字符前使用 \
# 将 /path/to/myfile 替换为 /otherpath/to/otherfile
:%s/\/path\/to\/myfile/\/otherpath\/to\/otherfile/g
```

## 切换模式

* `ESC`：切换到命令模式
* `v`: 切换到视图模式-字符
* `V`: 切换到视图模式-行
* `ctrl+V`: 切换到视图模式-列
* `gv`: 切换到视图模式-重选上次的高亮区域
* `r / gr`：替换一个字符后马上切换回命令模式
* `R`: 切换到替换模式（该模式tab制表符会被当成一个字符，输入一个字符会直接替换掉）
* `gR`：切换到虚拟替换模式（该模式tab制表符会被当成4个字符，按屏幕上实际显示宽度来替换字符）

## 命令模式常用操作

字符|模式|含义
---|---|---
i|进入编辑模式|当前光标所在字符前
I|进入编辑模式|^i当前行最前面
a|进入编辑模式|当前光标所在字符后
A|进入编辑模式|$a当前行最后面
o|进入编辑模式|光标所在行下面新插入一行
O|进入编辑模式|光标所在行上面新插入一行
cw|进入编辑模式|删除从光标位置到单词结尾间的字符
caw|进入编辑模式|删除光标所在单词
C|进入编辑模式|c$删除光标当前位置到行尾的内容
s|进入编辑模式|cl删除光标所在单个字符（2s：删除2个字符）
S|进入编辑模式|^C删除光标所在行的全部内容
gg|不变|跳转到文件开头
G|不变|跳转到文件最后一行行首
b|不变|移动光标到上一个单词开头
w|不变|移动光标到下一个单词开头
h|不变|光标向左移动
j|不变|光标向下移动
k|不变|光标向上移动
l|不变|光标向右移动
^|不变|移动光标到行首
$|不变|移动光标到行尾
f{char}|不变|查找并移动到下一个字符处
F{char}|不变|查找并移动到上一个字符处
d|不变|删除（需要配合方向键或者其他定位符，d2w）
dd|不变|删除整行（下面几个操作重复命令都是作用于整行）
y|不变|复制到寄存器(p粘贴)
yyp|复制光标所在行并插入下一行中
p|不变|粘贴
g~|不变|反转大小写（需要配合方向键或者其他定位符）
gu|不变|转换成小写（例如：guaw 改变一个单词，gu$ 从当前位置到行尾）
gU|不变|转换成大写（例如：gUgU 改变整行）
`>`|不变|增加缩进（需要配合方向键或其他定位符）
`<`|不变|减小缩进
x|不变|删除光标下单个字符
u|不变|撤销上次修改